<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Object</title>
    <style>
        .area-big {
            height: 400px;
            border: 1px solid black;
            background-color: lightgray;
        }
        .area {
            height: 200px;
            border: 1px solid black;
            background-color: lightgray;
            overflow: hidden;
            
        }
    </style>
</head>
<body>
    <h1>자바스크립트 객체</h1>
    <h3>객체 선언 및 호출</h3>
    <p>객체는 키 값을 사용하여 value을 식별함<br>
        value에는 모든 자료형이 올 수 있다.</p>
    <button id="btn1">실행확인</button>
    <div id="area1" class="area-big"></div>

    <h3>객체의 키</h3>
    <p>객체의 키는 모든 문자열을 사용할 수 있다. <br>
        키로 사용할 수 없는 단어를 키로 사용한 경우에는 무조건 대괄호를 사용해야 객체의 요소에 접근할 수 있다.</p>
    <button onclick="jsobject2();">실행확인</button>
    <div id="area2" class="area"></div>

    <h3>객체의 메소드</h3>
    <p>객체의 value 중 함수 자료형인 value를 메소드라 함.</p>
    <button id="btn3">실행확인</button>
    <div id="area3" class="area"></div>

    <h3>객체와 반복문</h3>
    <p>객체의 value를 출력할 때에는 단순 for문으로는 사용할 수 없고 for in문(foreach문)을 사용해야 함.</p>
    <button onclick="jsobject4();">실행확인</button>
    <div id="area-for" class="area"></div>
    <h3>객체의 in과 with 키워드</h3>
    <p>
        in : 객체 내부에 해당 속성이 있는지 확인하는 키워드
        <br>
        with : 호출시 코드를 줄여주는 키워드(객체명 생략가능)
    </p>
    <label>이름 : <input type="text" id="name"></label><br>
    <label>국어 : <input type="text" id="kor"></label><br>
    <label>영어 : <input type="text" id="eng"></label><br>
    <label>수학 : <input type="text" id="math"></label><br>
    <button onclick="jsobject5();">실행확인</button>
    <div id="area5" class="area-big"></div>

    <h3>객체의 키,값 추가와 제거</h3>
    <p>
        처음 객체 생성 이후 키,값을 추가하거나 제거하는 것을 동적으로 할 수 있음.
    </p>
    <button onclick="jsobject6();">실행확인</button>
    <div id="area6" class="area"></div>
    <script>
        var btnTag1 = document.querySelector("#btn1");
        // 표준 이벤트 모델로 이벤트 연결
        btnTag1.addEventListener("click", function() {
            // new Array()
            // new Number()
            var product = new Object(); // 객체는 키 값을 사용하여 value을 식별함.
            product.pName = "Dry Mango";
            product.type = "Pickle";
            product.ingredient = ["mango", "sugar"]; // value는 모든 자료형이 가능하다.
            var divTag1 = document.querySelector("#area1");
            divTag1.innerHTML += "product : " + product + "<br>";
            divTag1.innerHTML += "product.pName : " + product.pName + "<br>";
            divTag1.innerHTML += "product.ingredient : " + product.ingredient + "<br>";
            divTag1.innerHTML += "product.ingredient[0] : " + product.ingredient[0] + "<br>";
        });
        function jsobject2() { 
            var objtest = new Object();
            objtest["I love you"] = "BTS";
            objtest["I hate you"] = "Javascript";
            var divTag2 = document.querySelector("#area2");
            divTag2.innerHTML += "I love you : " + objtest["I love you"] + "<br>";
            divTag2.innerHTML += "I hate you : " + objtest["I hate you"] + "<br>";

            var product = new Object();
            product["pName"] = "Mango";
            product["type"] = "Pickle";
            divTag2.innerHTML += "product['pName'] : " + product["pName"] + "<br>";
            divTag2.innerHTML += "product['type'] : " + product["type"] + "<br>";
        }
        var btnTag3 = document.querySelector("#btn3");
        btnTag3.addEventListener("click", function() { // 표준 이벤트 모델 연결
            var dog = new Object();
            var divTag3 = document.querySelector("#area3");
            dog.name = "흰둥이";
            // 메소드 생성
            dog.eat = function(food) {
                divTag3.innerHTML = food + "를 먹고 있습니다. 냠냠";
            };
            dog.eat("간식오리"); // 메소드 호출
        });

        function jsobject4() {
            var game = new Object();
            game.title = "LOL";
            game.price = "20000";
            game.language = "한국어";
            game.supportOS = "windows10";
            game.service = true;

            var divTag4 = document.querySelector("#area-for");
            for(keyword in game) {
                divTag4.innerHTML += keyword + " : " + game[keyword] + "<br>";
            }
        }
        
        function jsobject5() {
            var name = document.querySelector("#name");
            var kor = document.querySelector("#kor");
            var eng = document.querySelector("#eng");
            var math = document.querySelector("#math");
            var divTag5 = document.querySelector("#area5");
            var student = new Object();
            student.sName = name.value;
            student.sKor = parseInt(kor.value);
            student.sEng = parseInt(eng.value);
            student.sMath = parseInt(math.value);
            student.sSum = student.sKor + student.sEng + student.sMath;
            student.sAvg = Math.floor(student.sSum / 3);
            // for(var word in student) {
            with(student) {
                divTag5.innerHTML += "학생이름 : " + sName + "<br>";
                divTag5.innerHTML += "국어점수 : " + sKor + "<br>";
                divTag5.innerHTML += "영어점수 : " + sEng + "<br>";
                divTag5.innerHTML += "수학점수 : " + sMath + "<br>";
                divTag5.innerHTML += "총점 : " + sSum + "<br>";
                divTag5.innerHTML += "평균 : " + sAvg;
            // }
            // in 키워드 : key값 존재 여부 true / false 리턴
            console.log("sKor" in student);
            console.log("eng" in student);
            console.log("sMath" in student);
            }
        }

        function jsobject6() {
            var person = new Object();
            person.name = "홍길동";
            person.hobby = "낚시";
            person.strength = "자바";
            person.dream = "웹개발자";
            person.toString = function() {
                var str = "";
                for(var keyword in person) {
                    if(keyword != "toString") {
                        str += keyword + " : " + person[keyword] + "<br>";
                    }
                }
                return str;
            };
            document.querySelector("#area6").innerHTML = person.toString();
            delete(person.dream); // 객체 내용 삭제
            document.querySelector("#area6").innerHTML = person.toString();
            // 배열 -> new Array(), []
            // 객체 -> new Object(). {}
            // JSON (JavaScript Object Notation)
        }

    </script>
</body>
</html>